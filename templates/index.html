<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrikeTime</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    <meta name="theme-color" content="#afcafe">
</head>
<body>
    <div class="lang-switcher">
        <button onclick="setLanguage('EN')">EN</button>
        <button onclick="setLanguage('RU')">RU</button>
        <button onclick="setLanguage('UA')">UA</button>
        <button onclick="setLanguage('PL')">PL</button>
    </div>

    <div class="container">
        <h1 id="title">TrikeTime</h1>
        <div class="status_card">
            <p id="status">Смена не начата</p>
            <button id="startBtn">Начать смену</button>
            <button id="endShiftBtn">Завершить смену</button>
        </div>
    </div>

    <div class="history-card">
        <h2 id="historyTitle">История смен</h2>
        <button id="clearHistoryBtn" class="btn-danger">Очистить историю</button>
        <button id="downloadHistoryBtn" class="btn-success">Скачать историю (CSV)</button>
    </div>

    <script src="{{ url_for('static', filename='lang.js') }}"></script>
    <script>
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("{{ url_for('static', filename='service-worker.js') }}")
            .then(reg => console.log("Service Worker registered:", reg))
            .catch(err => console.log("Service Worker registration failed:", err));
        }
    </script>
</body>
</html>
